<ccpy>
  <project name="Product2">

    <failOnError>yes</failOnError>
    <skipIfNoModifications>yes</skipIfNoModifications>

    <tasks>
      <sourcecontrol type="svn">
        <trunkUrl>https://company.com/repos/product2/mk</trunkUrl>
        <workingDirectory>/ProductBuilds/mk</workingDirectory>
        <preCleanWorkingDirectory>yes</preCleanWorkingDirectory>
      </sourcecontrol>

      <make>
        <workingDirectory>/ProductBuilds/SysInfra/Projects/common</workingDirectory>
        <args>clean release</args>
        <timeout>120</timeout>
      </make>
      <make>
        <workingDirectory>/ProductBuilds/SysInfra/Projects/logging</workingDirectory>
      </make>

      <exec>
        <executable>commontests</executable>
        <args>--xmlout</args>
        <workingDirectory>/ProductBuilds/SysInfra/TestProjects/commontests</workingDirectory>
        <timeout>30</timeout>
        <warningExitCode>2</warningExitCode>
      </exec>
      <exec>
        <executable>loggingTests</executable>
      </exec>

     <sourcecontrol type="svn">
        <trunkUrl>https://company.com/repos/product2/Common</trunkUrl>
        <workingDirectory>/ProductBuilds/Common</workingDirectory>
        <preCleanWorkingDirectory>off</preCleanWorkingDirectory>
      </sourcecontrol>
    </tasks>

    <emailNotification>
      <from>product2.builds@company.com</from>
      <to>product2.developer@company.com, product2.buildmaster@company.com</to>
    </emailNotification>
  </project>

  <project name="Product3">

    <failOnError>no</failOnError>
    <skipIfNoModifications>no</skipIfNoModifications>
    <tasks>
     <sourcecontrol type="svn">
      <trunkUrl>https://company.com/repos/product3/server</trunkUrl>
      <workingDirectory>/ProductBuilds/server</workingDirectory>
    </sourcecontrol>
   </tasks>

    <emailNotification>
      <from>product3.builds@company.com</from>
      <to>product3.developer@company.com</to>
      <format>attachment</format>
    </emailNotification>

  </project>

  <project name="Product4">
   <tasks>
      <make>
        <workingDirectory>/ProductBuilds/SysInfra/Projects/common</workingDirectory>
      </make>
    </tasks>
  </project>

  <project name="Product5">
   <tasks>
      <make>
        <workingDirectory>/ProductBuilds/SysInfra/Projects/common2</workingDirectory>
      </make>
    </tasks>

    <emailNotification>
      <from>product5.buildserver@company.com</from>
      <to>product5.developer@company.com, product5.buildmaster@company.com</to>
      <format>plain</format>
    </emailNotification>
  </project>

  <project name="Product6">
   <tasks>
      <make>
        <workingDirectory>/ProductBuilds/SysInfra/Projects/common3</workingDirectory>
      </make>
    </tasks>

    <emailNotification>
      <from>product6.buildserver@company.com</from>
      <to>product6.developer@company.com</to>
      <format>html</format>
      <server>smtp.mymail.com</server>
      <port>2626</port>
      <username>jos</username>
      <password>topsecret</password>      
    </emailNotification>
  </project>

</ccpy>
